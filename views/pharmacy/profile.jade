extends ../layout

block stylesheets
  link(href=base+'/style/bootstrap-timepicker.min.css', rel='stylesheet')

block pages
  button.header__action-button.ng-binding(data-toggle="tooltip", title="My Stock", onclick="location.href='" + base + "/pharmacy';")
    i.glyphicon.glyphicon-list-alt
    span.main-actions|                         My Stock
  .header__actions-divider
  button.header__action-button.ng-binding(data-toggle="tooltip", title="Profile", onclick="location.href='" + base + "/pharmacy/profile';")
    i.glyphicon.glyphicon-user
    span.main-actions|                         Profile
  .header__actions-divider
block account    
  .header__actions-divider
  button.header__action-button.ng-binding(data-toggle="tooltip", title="Logout", onclick="location.href='" + base + "/logout';")
    i.glyphicon.glyphicon-log-out
    span.main-actions|                         Logout       
block content
  .page__subtitle.ng-binding Profile
  .row
    .col-xs-2.col-xs-push-2 
      h4 Name
    .col-xs-2.col-xs-push-6 
      h4 
        strong.word-wrapping #{info[0].PERSON_NAME}
  hr
  .row
    .col-xs-2.col-xs-push-2 
      h4 Position
    .col-xs-2.col-xs-push-6 
      h4 
        strong.word-wrapping #{info[0].PERSON_POSITION}
  hr
  .row
    .col-xs-2.col-xs-push-2 
      h4 Place of Work
    .col-xs-2.col-xs-push-6 
      h4 
        strong.word-wrapping #{info[0].ENTITY_NAME}
  hr
  .row
    .col-xs-2.col-xs-push-2 
      h4 Email
    .col-xs-2.col-xs-push-6 
      h4 
        strong.word-wrapping #{info[0].EMAIL}
  hr
  .row
    .col-xs-2.col-xs-push-2 
      h4 Phone Number
    .col-xs-2.col-xs-push-6 
      h4 
        strong.word-wrapping #{info[0].PHONE_NUMBER}
  hr  
  - if(info[0].ADDRESS){
    .row
      .col-xs-2.col-xs-push-2 
        h4 Address
      .col-xs-2.col-xs-push-6 
        h4 
          strong.word-wrapping #{info[0].ADDRESS}
    hr
  - }
  - if(info[0].CITY){
    .row
      .col-xs-2.col-xs-push-2 
        h4 City (office)
      .col-xs-2.col-xs-push-6 
        h4 
          strong.word-wrapping #{info[0].CITY}
    hr
  - }
  - if(info[0].COUNTRY){
    .row
      .col-xs-2.col-xs-push-2 
        h4 Country
      .col-xs-2.col-xs-push-6 
        h4 
          strong.word-wrapping #{info[0].COUNTRY}
    hr
  - }
  .row
    .col-xs-2.col-xs-push-2 
      h4 Open From
    .col-xs-2.col-xs-push-6 
      h4 
        strong.word-wrapping #{info[0].OPEN_FROM}
  hr
  .row
    .col-xs-2.col-xs-push-2 
      h4 Open To
    .col-xs-2.col-xs-push-6 
      h4 
        strong.word-wrapping #{info[0].OPEN_TO}
  hr
  .row.text-center(style="margin-bottom: 80px;")
    .col-xs-6.col-md-3.col-md-push-2
      button.form-control.btn.btn-primary(ng-click='welcomeCtrl.newForecast()', data-toggle='modal', data-target='#editProfile') Edit Profile
    .col-xs-6.col-md-3.col-md-push-4
      button.form-control.btn.btn-primary(ng-click='welcomeCtrl.newForecast()', data-toggle='modal', data-target='#changePassword') Change Password
block modals
  #editProfile.modal.fade(tabindex='-1', role='dialog', aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
      .modal-content
        .modal-header
          button.close(type='button', data-dismiss='modal', aria-hidden='true') ×
          h4#myModalLabel.modal-title Edit Profile
        // /.modal-header
        .modal-body
          form#edit-profile-form(role='form')
            #nameForm.form-group
              .input-group
                input#name.form-control(name='name', type='text', placeholder='Pharmacy Name', value= info[0].PERSON_NAME)
                span.input-group-addon
                  i.glyphicon.glyphicon-user
            // /.form-group
            #positionForm.form-group
              .input-group
                input#position.form-control(name='position', type='text', placeholder='Position', value= info[0].PERSON_POSITION)
                span.input-group-addon
                  i.glyphicon.glyphicon-user
            // /.form-group
            #entityNameForm.form-group
              .input-group
                input#entityName.form-control(name='entity_name', type='text', placeholder='Place of Work', value= info[0].ENTITY_NAME)
                span.input-group-addon
                  i.glyphicon.glyphicon-user
            // /.form-group 
            #emailForm.form-group
              .input-group
                input#email.form-control(name='email', type='text', placeholder='Email', value= info[0].EMAIL)
                span.input-group-addon
                  i.glyphicon.glyphicon-envelope
            // /.form-group
            #phoneForm.form-group
              .input-group
                input#phone.form-control(name='phone_number', type='text', placeholder='Phone Number', value= info[0].PHONE_NUMBER)
                span.input-group-addon
                  i.glyphicon.glyphicon-home
            // /.form-group
            #addressForm.form-group
              .input-group
                input#address.form-control(name='address', type='text', placeholder='Address', value= info[0].ADDRESS)
                span.input-group-addon
                  i.glyphicon.glyphicon-home
            // /.form-group
            #cityForm.form-group
              .input-group
                input#city.form-control(name='city', type='text', placeholder='City', value= info[0].CITY)
                span.input-group-addon
                  i.glyphicon.glyphicon-home
            // /.form-group
            #countryForm.form-group
              .input-group
                input#country.form-control(name='country', type='text', placeholder='Country', value= info[0].COUNTRY)
                span.input-group-addon
                  i.glyphicon.glyphicon-home
            // /.form-group
            p
              strong Open from
            #openFromForm.form-group
              .input-group.bootstrap-timepicker.timepicker
                input#timepicker1.form-control.input-small(name='open_from', type='text', value= info[0].OPEN_FROM)
                span.input-group-addon
                  i.glyphicon.glyphicon-time
            // /.form-group
            p
              strong Open to
            #openToForm.form-group
              .input-group.bootstrap-timepicker.timepicker
                input#timepicker2.form-control.input-small(name='open_to', type='text', value= info[0].OPEN_TO)
                span.input-group-addon
                  i.glyphicon.glyphicon-time
            // /.form-group      
        // /.modal-body
        .modal-footer
          button#edit-profile-btn.form-control.btn.btn-primary(onclick='editProfile();') Save Changes
        // /.modal-footer
      // /.modal-content
    // /.modal-dialog
  // /.modal
  #changePassword.modal.fade(tabindex='-1', role='dialog', aria-labelledby='myModalLabel', aria-hidden='true')
    .modal-dialog
      .modal-content
        .modal-header
          button.close(type='button', data-dismiss='modal', aria-hidden='true') ×
          h4#myModalLabel.modal-title Change Password
        // /.modal-header
        .modal-body
          form#change-password-form(role='form')
            #oldPasswordForm.form-group
              .input-group
                input#oldPassword.form-control(name='old_password', type='password', placeholder='Old Password')
                span.input-group-addon
                  i.glyphicon.glyphicon-lock
              // /.input-group
            // /.form-group
            #newPasswordForm.form-group
              .input-group
                input#newPassword.form-control(name='new_password', type='password', placeholder='New Password')
                span.input-group-addon
                  i.glyphicon.glyphicon-lock
              // /.input-group
            // /.form-group
            #rnewPasswordForm.form-group
              .input-group
                input#rnewPassword.form-control(name='rnew_password' type='password', placeholder='Confirm New Password')
                span.input-group-addon
                  i.glyphicon.glyphicon-lock
              // /.input-group
            // /.form-group
        .modal-footer
          button#change-password-btn.form-control.btn.btn-primary(onclick='changePassword();') Change
        // /.modal-footer
      // /.modal-content
    // /.modal-dialog
  // /.modal
  #confimUpdate.modal.fade(role='dialog', data-backdrop='static', data-show='true', data-keyboard='false')
    .modal-dialog
      .modal-content
        .modal-header
          h4#myModalLabel.modal-title Edit Profile
        // /.modal-header
        .modal-body
          |  Your profile is updated successfuly
        // /.modal-body
        .modal-footer
          button.form-control.btn.btn-primary(onclick='location.reload();') OK
  #confimChangePassword.modal.fade(role='dialog', data-backdrop='static', data-show='true', data-keyboard='false')
    .modal-dialog
      .modal-content
        .modal-header
          h4#myModalLabel.modal-title Change Password
        // /.modal-header
        .modal-body
          |  Your password has been reset successfully!
        // /.modal-body
        .modal-footer
          button.form-control.btn.btn-primary(onclick='location.reload();') OK        
  #loadingModal.modal.fade(role='dialog', data-backdrop='static', data-show='true', data-keyboard='false')
    .modal-dialog.modal-sm
      .modal-content
        .modal-body
          h2
            span.glyphicon.glyphicon-refresh.glyphicon-refresh-animate
            |   Loading...
block scripts
  script(type='text/javascript', src=base+'/scripts/bootstrap-timepicker.min.js')
  script(type='text/javascript', src=base+'/scripts/pharmacy/profile.js')
